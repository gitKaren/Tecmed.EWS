@using EWS.Domain.Model;
@model EWS.Domain.Model.EquipmentQuote

@{
    ViewBag.Title = "Extended Warranty";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts {
    <script type="text/javascript">
    </script>
}

<div class="container-fluid">
    @Html.Partial("ValidationSummary", ViewData.ModelState)
    <h2></h2>
    <div class="row">
        
        <div class="col-xs-12 bottom-gap-20">
            <div class="pull-right pad3">
                <button id="btnPrint" title="Print this Quote" type="submit" value="Next" class="btn btn-primary throbber">
                    Print&nbsp;<span class="glyphicon glyphicon-print"></span>
                </button>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">

                        <h3 class="panel-title">Equipment Calculation</h3>

                    
                </div>

                <div class="panel-body">
                    @using (Html.BeginForm(MVC.Quote.EquipmentCalculation(), FormMethod.Post, new { role = "form", id = "SubmitForm", name = "SubmitForm" }))
                    {
                        @Html.HiddenFor(model => model.QuoteID)


                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.QuoteRef, htmlAttributes: new { @class = "control-label col-md-4" })
                                    <div class="col-sm-6 col-md-5">
                                        @Html.EditorFor(model => model.QuoteRef, new { htmlAttributes = new { @class = "form-control form-control-greyed text-center", @readonly = "readonly" } })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.TenderNumber, htmlAttributes: new { @class = "control-label col-md-4" })
                                    <div class="col-sm-6 col-md-5">
                                        @Html.EditorFor(model => model.TenderNumber, new { htmlAttributes = new { @class = "form-control form-control-greyed text-center", @readonly = "readonly" } })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.VAT, htmlAttributes: new { @class = "control-label col-md-4" })
                                    <div class="col-sm-6  col-md-5">
                                        @Html.EditorFor(model => model.VAT, new { htmlAttributes = new { @class = "form-control form-control-greyed text-right", @readonly = "readonly" } })
                                    </div>

                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.EquipmentSellingPriceExclVAT, htmlAttributes: new { @class = "control-label col-md-4" })
                                    <div class="col-sm-6 col-md-5">
                                        @Html.EditorFor(model => model.EquipmentSellingPriceExclVAT, new { htmlAttributes = new { @class = "form-control text-right" } })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.EquipmentSellingPriceInclVAT, htmlAttributes: new { @class = "control-label col-md-4" })
                                    <div class="col-sm-6  col-md-5">
                                        @Html.EditorFor(model => model.EquipmentSellingPriceInclVAT, new { htmlAttributes = new { @class = "form-control text-right" } })
                                    </div>
                                </div>

                                @Html.EditorFor(model => model.ExchangeRate)
                            </div>
                            <div class="col-xs-5">
                                <div class="form-group">
                                    @Html.EditorFor(model => model.Device)
                                </div>
                            </div>
                        </div>
                   

                        <div class="">
                            @foreach (var item in Model.ContractTypesCalculation)
                            {
                                @Html.HiddenFor(modelitem => item.ContractCalculationID)
                                @Html.HiddenFor(modelitem => item.ContractTypeID)

                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3 class="panel-title">@Html.DisplayFor(modelitem => item.ContractType)</h3>
                                    </div>

                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="col-xs-2 pad3 r-align" style="border: solid 0px red;">
                                                    @Html.LabelFor(modelitem => item.SellingPricePerc, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-3 pad3">
                                                    @Html.EditorFor(modelitem => item.SellingPricePerc, new { htmlAttributes = new { @class = "form-control text-right", id = "SellingPricePerc" } })
                                                </div>
                                                <div class="col-xs-2 pad3 r-align">
                                                    @Html.LabelFor(modelitem => item.SellingPricePercAmount, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-4 pad3">
                                                    @Html.EditorFor(modelitem => item.SellingPricePercAmount, new { htmlAttributes = new { @class = "form-control text-right", @readonly = "readonly", id = "SellingPricePercAmount" } })
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-2 pad3 r-align">
                                                    @Html.LabelFor(modelitem => item.ROEPortion, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-3 pad3">
                                                    @Html.EditorFor(modelitem => item.ROEPortion, new { htmlAttributes = new { @class = "form-control text-right", id = "ROEPortion" } })
                                                </div>
                                                <div class="col-xs-2 pad3 r-align">
                                                    @Html.LabelFor(modelitem => item.ROEPortionAmount, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-4 pad3">
                                                    @Html.EditorFor(modelitem => item.ROEPortionAmount, new { htmlAttributes = new { @class = "form-control text-right", @readonly = "readonly", id = "ROEPortionAmount" } })
                                                </div>
                                            </div>
                                            <div class="col-xs-4">
                                                <div class="col-xs-2 pad3 r-align">
                                                    @Html.LabelFor(modelitem => item.ZARPortion, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-3 pad3">
                                                    @Html.EditorFor(modelitem => item.ZARPortion, new { htmlAttributes = new { @class = "form-control text-right", id = "ZARPortion" } })
                                                </div>
                                                <div class="col-xs-2 pad3 r-align">
                                                    @Html.LabelFor(modelitem => item.ZARPortionAmount, htmlAttributes: new { @class = "control-label text-right" })
                                                </div>
                                                <div class="col-xs-4 pad3">
                                                    @Html.EditorFor(modelitem => item.ZARPortionAmount, new { htmlAttributes = new { @class = "form-control text-right", @readonly = "readonly", id = "ZARPortionAmount" } })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            @Html.Partial("_YearlyCalculation" , item.QuotePerYear)
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>

                    }
                </div>
            </div>

        </div>
    </div>
</div>